\section{Operational Semantics and Rewrite Rules}
\label{sec:operational}

We present a small-step reduction semantics for SpherePOP and a big-step evaluation judgment.  The language core is given in \Cref{sec:spherepop-spec} (main text earlier).

\subsection{Small-step rules (selected)}
\[
\frac{\sigma\vdash\text{valid}\quad \vdash r:a\overset{\epsilon}{\to}b \quad M(a)\neq\varnothing}
     {\langle \texttt{pop}(\sigma,r)\rangle \to \langle \sigma' \rangle}
\]
where $\sigma'=\texttt{apply}(r,\sigma)$ and $E(\sigma')\le E(\sigma)+\epsilon$.

Merge rule (guarded):
\[
\frac{E(\sigma_a\oplus\sigma_b)\le\max(E(\sigma_a),E(\sigma_b))+\epsilon_{\mathrm{merge}}}
     {\langle \texttt{merge}(\sigma_a,\sigma_b)\rangle \to \langle \sigma_m\rangle}
\]

\subsection{Mediation}
If a merge fails the entropy guard, a mediated reconciliation search attempts to find chains $R_a,R_b$ such that transformed spheres satisfy the bound.  We formalize mediation as an optimization problem (see \Cref{sec:complexity}).
